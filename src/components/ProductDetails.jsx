import React, { useState } from "react";
import { useParams } from "react-router-dom";
import { useCart } from "../context/CartContext";
import "./ProductDetails.css";

const ProductDetails = () => {
  const { id } = useParams(); // Get product ID from URL
  const { addToCart } = useCart();
  const [quantity, setQuantity] = useState(1);

  // Sample product data (we'll fetch from backend later)
  const product = {
    id:1,
    name: "Wireless Bluetooth Headphones",
    price: 59.99,
    description: "Experience premium sound quality with noise cancellation.",
    image: "data:image/jpeg;base64,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",
  };

  const handleAddToCart = () => {
    addToCart({ ...product, quantity });
  };

  return (
    <div className="product-details">
      <div className="product-image">
        <img src={product.image} alt={product.name} />
      </div>
      <div className="product-info">
        <h1>{product.name}</h1>
        <p className="price">${product.price.toFixed(2)}</p>
        <p className="description">{product.description}</p>

        <div className="quantity-selector">
          <button onClick={() => setQuantity((q) => Math.max(1, q - 1))}>-</button>
          <input
            type="number"
            value={quantity}
            onChange={(e) => setQuantity(Math.max(1, parseInt(e.target.value) || 1))}
          />
          <button onClick={() => setQuantity((q) => q + 1)}>+</button>
        </div>

        <button className="add-to-cart-btn" onClick={handleAddToCart}>
          Add to Cart
        </button>
      </div>
    </div>
  );
};
console.log("ProductDetails page loaded!");

export default ProductDetails;
